{"version":3,"sources":["components/taxCalculate.js","components/Header.js","components/Cart.js","components/Product.js","components/Items.js","App.js","index.js"],"names":["module","exports","subtotal","taxRate","tax","Header","AppBar","position","style","textAlign","MyButton","styled","color","other","Button","background","props","border","borderRadius","boxShadow","height","padding","margin","Cart","useState","hasDiscount","setHasDiscount","discountLabel","setDiscountLabel","cart","AddItem","RemoveItem","sumPrices","reduce","a","c","price","qty","taxCalculate","total","Grid","container","spacing","Paper","length","map","item","sapcing","name","onClick","id","paddingLeft","toFixed","Product","product","xl","Items","data","products","App","setCart","setData","isLoaded","setIsLoaded","error","setError","exist","find","x","request","Request","method","headers","Accept","useEffect","fetch","then","res","json","result","className","xs","filter","ReactDOM","render","document","getElementById"],"mappings":"0GAMAA,EAAOC,QANP,SAAsBC,EAAUC,GAC5B,IAAIC,EAAMF,EAASC,EAEnB,OADAC,EAAKA,EAAI,EAAGA,EAAI,I,uICCL,SAASC,IACpB,OACI,cAACC,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACI,oBAAIC,MAAO,CAACC,UAAW,UAAvB,+B,6DCDNC,EAAWC,aAAO,cAAGC,MAAH,IAAaC,EAAb,gCAAyB,cAACC,EAAA,EAAD,eAAYD,MAA5CF,CAAuD,CACpEI,WAAY,SAACC,GAAD,MACO,QAAhBA,EAAMJ,OAA+B,mBAAdI,EAAMJ,MAC1B,mDACA,oDACNK,OAAQ,EACRC,aAAc,EACdC,UAAW,SAACH,GAAD,MACO,QAAhBA,EAAMJ,MACF,wCACA,wCACNA,MAAO,QACPQ,OAAQ,GACRC,QAAS,SACTC,OAAQ,IAEG,SAASC,EAAKP,GAAQ,IAAD,EACMQ,oBAAS,WAAO,OAAO,KAD7B,mBACzBC,EADyB,KACZC,EADY,OAEUF,oBAAS,WAAK,MAAO,oBAF/B,mBAEzBG,EAFyB,KAEVC,EAFU,KAIzBC,EAA6Bb,EAA7Ba,KAAMC,EAAuBd,EAAvBc,QAASC,EAAcf,EAAde,WAEhBC,EAAYH,EAAKI,QAAO,SAACC,EAAEC,GAAH,OAAQD,EAAEC,EAAEC,MAAMD,EAAEE,MAAK,GACjDnC,EAAWuB,EAAeO,GAJf,GAImCA,EAC9C5B,EAAMkC,IAAapC,EAHT,KAIVqC,EAAQrC,GAAW,EAAIA,EAASE,EAAI,EAC1C,OACI,cAACoC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACI,eAACC,EAAA,EAAD,WACiB,IAAhBd,EAAKe,QAAgB,cAACJ,EAAA,EAAD,kCAElBX,EAAKgB,KAAI,SAACC,GAAD,OACL,eAACN,EAAA,EAAD,CAAMM,MAAI,EAACC,QAAS,EAAiBvC,MAAO,CAACc,OAAO,QAApD,UACI,cAACkB,EAAA,EAAD,UAAOM,EAAKE,OACZ,eAACR,EAAA,EAAD,WAAOM,EAAKT,IAAZ,OAAqBS,EAAKV,SAC1B,eAACI,EAAA,EAAD,WACI,cAAC9B,EAAD,CAAUE,MAAM,OAAOqC,QAAS,kBAAIlB,EAAWe,IAA/C,eACA,cAACpC,EAAD,CAAUE,MAAM,MAAMqC,QAAS,kBAAInB,EAAQgB,IAA3C,oBALoBA,EAAKI,OAWzC,cAACV,EAAA,EAAD,UACqB,IAAhBX,EAAKe,QACM,8BACI,cAAClC,EAAD,CAAUE,MAAOe,EAAesB,QAAS,WAClCxB,GACCC,GAAe,GACfE,EAAiB,oBAGjBF,GAAe,GACfE,EAAiB,qBAPzB,SASID,QAIxB,cAACa,EAAA,EAAD,UACqB,IAAhBX,EAAKe,QACF,sBAAKpC,MAAO,CAACc,OAAO,QAApB,UACKG,GACD,gCACI,4CACA,qBAAKjB,MAAO,CAAC2C,YAAY,OAAzB,WA9CP,IA8CkDC,QAAQ,QAGvD,gCACI,4CACA,qBAAK5C,MAAO,CAAC2C,YAAY,OAAzB,SAAkCjD,EAASkD,QAAQ,QAEvD,gCACI,uCACA,sBAAK5C,MAAO,CAAC2C,YAAY,OAAzB,cAAmC/C,EAAIgD,QAAQ,SAEnD,gCACI,8BAAK,0CACL,qBAAK5C,MAAO,CAAC2C,YAAY,OAAzB,SAAiC,6BAAKZ,EAAMa,QAAQ,oBC/EhF,IAAM1C,EAAWC,YAAOG,IAAPH,CAAe,CAC5BI,WAAY,mDACZE,OAAQ,EACRC,aAAc,EACdC,UAAW,wCACXP,MAAO,QACPQ,OAAQ,GACRC,QAAS,WAEE,SAASgC,EAAQrC,GAAQ,IAC7BsC,EAAoBtC,EAApBsC,QAASxB,EAAWd,EAAXc,QAChB,OACI,cAACU,EAAA,EAAD,CAAMM,MAAI,EAACS,IAAE,EAAb,SACI,eAACZ,EAAA,EAAD,WACA,iCAASW,EAAQN,OACjB,sBAAKE,GAAG,QAAR,eAAmBI,EAAQlB,SAC3B,8BACI,cAAC,EAAD,CAAUa,QAAS,kBAAInB,EAAQwB,IAA/B,wBClBD,SAASE,EAAMxC,GAAQ,IAC3ByC,EAAiBzC,EAAjByC,KAAM3B,EAAWd,EAAXc,QACP4B,EAAWD,EAAKZ,KAAI,SAACS,GAAD,OACtB,cAACD,EAAD,CAA0BC,QAASA,EAASxB,QAASA,GAAvCwB,EAAQJ,OAE1B,OACI,cAACV,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACKgB,ICoEEC,MAvEf,WAAgB,IAAD,EACWnC,oBAAS,WAAO,MAAO,MADlC,mBACNK,EADM,KACA+B,EADA,OAEWpC,oBAAS,WAAO,MAAO,MAFlC,mBAENiC,EAFM,KAEAI,EAFA,OAGmBrC,oBAAS,GAH5B,mBAGNsC,EAHM,KAGIC,EAHJ,OAIavC,mBAAS,MAJtB,mBAINwC,EAJM,KAICC,EAJD,KAKPnC,EAAU,SAACwB,GACf,IAAMY,EAAQrC,EAAKsC,MAAK,SAACC,GAAD,OAAOA,EAAElB,KAAOI,EAAQJ,MAE9CU,EADEM,EAEArC,EAAKgB,KAAI,SAACuB,GAAD,OACPA,EAAElB,KAAOI,EAAQJ,GAAjB,2BAA2BgB,GAA3B,IAAkC7B,IAAK6B,EAAM7B,IAAM,IAAM+B,KAIrD,GAAD,mBAAKvC,GAAL,aAAC,eAAeyB,GAAhB,IAAyBjB,IAAK,QAgBnCgC,EAAU,IAAIC,QAAQ,YAAa,CACvCC,OAAQ,MACRC,QAAS,CACPC,OAAQ,oCACR,eAAgB,sBAiBpB,OAdAC,qBAAU,WACRC,MAAMN,GACHO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAACG,GACChB,GAAY,GACZF,EAAQkB,MAEV,SAACf,GACCD,GAAY,GACZE,EAASD,QAGf,IACCA,EACM,wCAIL,eAACxB,EAAA,EAAD,CAAMC,WAAS,EAACuC,UAAU,OAAOtC,QAAS,EAAGlC,MAAO,CAACc,OAAO,QAA5D,UACE,cAACkB,EAAA,EAAD,CAAMM,MAAI,EAACmC,GAAI,GAAf,SACE,cAAC5E,EAAD,MAEF,cAACmC,EAAA,EAAD,CAAMM,MAAI,EAACmC,IAAE,EAAb,SACE,cAAC1D,EAAD,CAAMM,KAAMA,EAAMC,QAASA,EAASC,WA5CzB,SAACuB,GAClB,IAAMY,EAAQrC,EAAKsC,MAAK,SAACC,GAAD,OAAOA,EAAElB,KAAOI,EAAQJ,MAC9B,IAAdgB,EAAM7B,IACRuB,EAAQ/B,EAAKqD,QAAO,SAACd,GAAD,OAAOA,EAAElB,KAAOI,EAAQJ,OAE5CU,EACE/B,EAAKgB,KAAI,SAACuB,GAAD,OACPA,EAAElB,KAAOI,EAAQJ,GAAjB,2BAA2BgB,GAA3B,IAAkC7B,IAAK6B,EAAM7B,IAAM,IAAM+B,WAuC3D,eAAC5B,EAAA,EAAD,CAAMM,MAAI,EAACmC,IAAE,EAAb,WACgB,IAAbnB,GAAsB,cAACtB,EAAA,EAAD,yBACvB,cAACgB,EAAD,CAAOC,KAAMA,EAAM3B,QAASA,WCpEtCqD,IAASC,OAAO,cAAC,EAAD,IAAQC,SAASC,eAAe,W","file":"static/js/main.957b00d8.chunk.js","sourcesContent":["function taxCalculate(subtotal, taxRate){\r\n    let tax = subtotal*taxRate\r\n    tax= tax>0 ?tax:0\r\n    return tax\r\n}\r\n\r\nmodule.exports = taxCalculate","import React from 'react'\r\nimport {AppBar} from '@material-ui/core';\r\n\r\nexport default function Header() {\r\n    return (\r\n        <AppBar position=\"static\">\r\n            <h1 style={{textAlign: \"center\"}}>\r\n                Simple Checkout\r\n            </h1>\r\n        </AppBar>\r\n    )\r\n}\r\n","import React, {useState} from 'react'\r\nimport taxCalculate from './taxCalculate'\r\nimport {Button, styled, Grid, Paper } from '@material-ui/core';\r\n\r\n\r\nconst MyButton = styled(({ color, ...other }) => <Button {...other} />)({\r\n    background: (props) =>\r\n      (props.color === 'red'||props.color==='Apply Discount')\r\n        ? 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)'\r\n        : 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\r\n    border: 0,\r\n    borderRadius: 3,\r\n    boxShadow: (props) =>\r\n      props.color === 'red'\r\n        ? '0 3px 5px 2px rgba(255, 105, 135, .3)'\r\n        : '0 3px 5px 2px rgba(33, 203, 243, .3)',\r\n    color: 'white',\r\n    height: 20,\r\n    padding: '0 30px',\r\n    margin: 8,\r\n  });\r\nexport default function Cart(props) {\r\n    const [hasDiscount, setHasDiscount] = useState(() => {return false});\r\n    const [discountLabel, setDiscountLabel] = useState(()=>{return \"Apply Discount\"});\r\n    const discount = -10;\r\n    const {cart, AddItem, RemoveItem} = props;\r\n    const taxRate = 0.13;\r\n    const sumPrices = cart.reduce((a,c)=> a+c.price*c.qty, 0);\r\n    const subtotal = hasDiscount ? (sumPrices+discount):sumPrices;\r\n    const tax = taxCalculate(subtotal,taxRate);\r\n    const total = subtotal >=0 ? subtotal+tax:0;\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Paper>\r\n            {cart.length === 0 && <Grid>No item in the cart</Grid>}\r\n            {\r\n                cart.map((item)=> \r\n                    <Grid item sapcing={1} key={item.id} style={{margin:\"10px\"}}>\r\n                        <Grid>{item.name}</Grid>\r\n                        <Grid>{item.qty} x ${item.price}</Grid>\r\n                        <Grid>\r\n                            <MyButton color='blue' onClick={()=>RemoveItem(item)}>-</MyButton>\r\n                            <MyButton color='red' onClick={()=>AddItem(item)}>+</MyButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                \r\n                )\r\n            }\r\n            <Grid>\r\n                {cart.length !== 0 &&\r\n                            <div>\r\n                                <MyButton color={discountLabel} onClick={()=>{\r\n                                    if(hasDiscount){\r\n                                        setHasDiscount(false);\r\n                                        setDiscountLabel(\"Apply Discount\");\r\n                                    }\r\n                                    else{\r\n                                        setHasDiscount(true);\r\n                                        setDiscountLabel(\"Remove Discount\");\r\n                                    }\r\n                                }}>{discountLabel}</MyButton>\r\n                            </div>\r\n                }\r\n            </Grid>\r\n            <Grid>\r\n                {cart.length !== 0 && \r\n                    <div style={{margin:\"10px\"}}>\r\n                        {hasDiscount &&\r\n                        <div>\r\n                            <div>Discount:</div>\r\n                            <div style={{paddingLeft:\"50%\"}}>{discount.toFixed(2)}</div>\r\n                        </div>\r\n                        }\r\n                        <div>\r\n                            <div>Subtotal:</div>\r\n                            <div style={{paddingLeft:\"50%\"}}>{subtotal.toFixed(2)}</div>\r\n                        </div>\r\n                        <div>\r\n                            <div>Tax:</div>\r\n                            <div style={{paddingLeft:\"50%\"}}>+{tax.toFixed(2)}</div>\r\n                        </div>\r\n                        <div>\r\n                            <div><h4>Total:</h4></div>\r\n                            <div style={{paddingLeft:\"50%\"}}><h4>{total.toFixed(2)}</h4></div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                \r\n            </Grid>\r\n            </Paper>\r\n        </Grid>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Grid,Button, styled, Paper } from '@material-ui/core';\r\n\r\n\r\nconst MyButton = styled(Button)({\r\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n    border: 0,\r\n    borderRadius: 3,\r\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n    color: 'white',\r\n    height: 20,\r\n    padding: '0 30px',\r\n  });\r\nexport default function Product(props) {\r\n    const {product, AddItem} = props;\r\n    return (\r\n        <Grid item xl>\r\n            <Paper>\r\n            <strong>{product.name}</strong>\r\n            <div id='price'>$ {product.price}</div>\r\n            <div>\r\n                <MyButton onClick={()=>AddItem(product)}>\r\n                    add\r\n                </MyButton>\r\n            </div>\r\n            </Paper>\r\n        </Grid>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Product from './Product';\r\nimport {Grid} from '@material-ui/core';\r\nexport default function Items(props) {\r\n    const {data, AddItem} = props;\r\n    const products = data.map((product) => (\r\n        <Product key={product.id} product={product} AddItem={AddItem}/>\r\n    ));\r\n    return (\r\n        <Grid container spacing={2}>\r\n            {products}\r\n        </Grid>\r\n    )\r\n}\r\n","import './App.css';\nimport Header from './components/Header';\nimport Cart from './components/Cart';\nimport Items from './components/Items';\nimport {useState, useEffect} from 'react';\nimport {Grid} from '@material-ui/core';\n\nfunction App() {\n  const [cart, setCart] = useState(() =>{ return []});\n  const [data, setData] = useState(() =>{ return []});\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(null);\n  const AddItem = (product) => {\n    const exist = cart.find((x) => x.id === product.id);\n    if (exist) {\n      setCart(\n        cart.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\n        )\n      );\n    } else {\n      setCart([...cart, { ...product, qty: 1 }]);\n    }\n  };\n  const RemoveItem = (product) => {\n    const exist = cart.find((x) => x.id === product.id);\n    if (exist.qty === 1) {\n      setCart(cart.filter((x) => x.id !== product.id));\n    } else {\n      setCart(\n        cart.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\n        )\n      );\n    }\n  };\n  //get the item list from backend\n  const request = new Request(\"/getItems\", {\n    method: \"get\",\n    headers: {\n      Accept: \"application/json, text/plain, */*\",\n      \"Content-Type\": \"application/json\",\n    },\n  });\n  useEffect(() => {\n    fetch(request)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          setData(result);\n        },\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      )\n  },[])\n  if(error){\n    return <div>Error</div>;\n  }\n  else{\n    return (\n      <Grid container className=\"root\" spacing={2} style={{margin:\"10px\"}}>\n        <Grid item xs={12}>\n          <Header />\n        </Grid>\n        <Grid item xs>\n          <Cart cart={cart} AddItem={AddItem} RemoveItem={RemoveItem}/>\n        </Grid>\n        <Grid item xs>\n          {isLoaded === false && <Grid>Loading...</Grid>}\n          <Items data={data} AddItem={AddItem}/>\n        </Grid>     \n      </Grid>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n"],"sourceRoot":""}